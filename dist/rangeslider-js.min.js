!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.rangesliderJs=t()}}(function(){return function t(e,i,n){function s(r,a){if(!i[r]){if(!e[r]){var h="function"==typeof require&&require;if(!a&&h)return h(r,!0);if(o)return o(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[r]={exports:{}};e[r][0].call(l.exports,function(t){var i=e[r][1][t];return s(i?i:t)},l,l.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e,i){function n(t,e,i){return i>e?e>t?e:t>i?i:t:i>t?i:t>e?e:t}e.exports=n},{}],2:[function(t,e,i){(function(t){function i(){try{var t=new n("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}var n=t.CustomEvent;e.exports=i()?n:"function"==typeof document.createEvent?function(t,e){var i=document.createEvent("CustomEvent");return e?i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):i.initCustomEvent(t,!1,!1,void 0),i}:function(t,e){var i=document.createEventObject();return i.type=t,e?(i.bubbles=Boolean(e.bubbles),i.cancelable=Boolean(e.cancelable),i.detail=e.detail):(i.bubbles=!1,i.cancelable=!1,i.detail=void 0),i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,i){var n=t("date-now");e.exports=function(t,e,i){function s(){var l=n()-h;e>l&&l>0?o=setTimeout(s,e-l):(o=null,i||(u=t.apply(a,r),o||(a=r=null)))}var o,r,a,h,u;return null==e&&(e=100),function(){a=this,r=arguments,h=n();var l=i&&!o;return o||(o=setTimeout(s,e)),l&&(u=t.apply(a,r),a=r=null),u}}},{"date-now":4}],4:[function(t,e,i){function n(){return(new Date).getTime()}e.exports=Date.now||n},{}],5:[function(t,e,i){"use strict";var n=function(t){return"number"==typeof t&&!isNaN(t)},s=function(t,e){e=e||e.currentTarget;var i=e.getBoundingClientRect(),s=t.originalEvent||t,o=t.touches&&t.touches.length,r=0,a=0;return o?n(t.touches[0].pageX)&&n(t.touches[0].pageY)?(r=t.touches[0].pageX,a=t.touches[0].pageY):n(t.touches[0].clientX)&&n(t.touches[0].clientY)&&(r=s.touches[0].clientX,a=s.touches[0].clientY):n(t.pageX)&&n(t.pageY)?(r=t.pageX,a=t.pageY):t.currentPoint&&n(t.currentPoint.x)&&n(t.currentPoint.y)&&(r=t.currentPoint.x,a=t.currentPoint.y),{x:r-i.left,y:a-i.top}};e.exports=s},{}],6:[function(t,e,i){"use strict";var n=t("number-is-nan");e.exports=Number.isFinite||function(t){return!("number"!=typeof t||n(t)||t===1/0||t===-(1/0))}},{"number-is-nan":7}],7:[function(t,e,i){"use strict";e.exports=Number.isNaN||function(t){return t!==t}},{}],8:[function(t,e,i){var n={};n.MAX_SET_BY_DEFAULT=100,n.HANDLE_RESIZE_DEBOUNCE=100,n.RANGE_CLASS="rangeslider",n.FILL_CLASS="rangeslider__fill",n.FILL_BG_CLASS="rangeslider__fill__bg",n.HANDLE_CLASS="rangeslider__handle",n.DISABLED_CLASS="rangeslider--disabled",n.STEP_SET_BY_DEFAULT=1,n.START_EVENTS=["mousedown","touchstart","pointerdown"],n.MOVE_EVENTS=["mousemove","touchmove","pointermove"],n.END_EVENTS=["mouseup","touchend","pointerup"],e.exports=n},{}],9:[function(t,e,i){"use strict";function n(t,e){e=e||{},this.element=t,this.options=e,this.onSlideEventsCount=-1,this.isInteracting=!1,this.needTriggerEvents=!1,this.identifier="js-"+u+"-"+l++,this.min=a.getFirstNumberLike(e.min,parseFloat(t.getAttribute("min")),0),this.max=a.getFirstNumberLike(e.max,parseFloat(t.getAttribute("max")),h.MAX_SET_BY_DEFAULT),this.value=a.getFirstNumberLike(e.value,parseFloat(t.value),this.min+(this.max-this.min)/2),this.step=a.getFirstNumberLike(e.step,parseFloat(t.getAttribute("step")),h.STEP_SET_BY_DEFAULT),this.percent=null,this._updatePercentFromValue(),this.toFixed=p(this.step),this.range=c(h.RANGE_CLASS),this.range.id=this.identifier,this.fillBg=c(h.FILL_BG_CLASS),this.fill=c(h.FILL_CLASS),this.handle=c(h.HANDLE_CLASS),this.range.appendChild(this.handle),this.range.appendChild(this.fillBg),this.range.appendChild(this.fill),t.setAttribute("min",""+this.min),t.setAttribute("max",""+this.max),t.setAttribute("step",""+this.step),this._setValue(this.value),a.insertAfter(t,this.range),t.style.position="absolute",t.style.width="1px",t.style.height="1px",t.style.overflow="hidden",t.style.opacity="0",["_handleResize","_handleDown","_handleMove","_handleEnd","_startEventListener","_changeEventListener"].forEach(function(t){this[t]=this[t].bind(this)},this),this._init(),window.addEventListener("resize",o(this._handleResize,h.HANDLE_RESIZE_DEBOUNCE)),h.START_EVENTS.forEach(function(t){this.range.addEventListener(t,this._startEventListener)},this),t.addEventListener("change",this._changeEventListener)}var s=t("clamp"),o=t("debounce"),r=t("ev-pos"),a=t("./utils"),h=t("./const"),u="rangeslider-js",l=0,d=a.emit,c=function(t){var e=document.createElement("div");return e.classList.add(t),e},p=function(t){return(t+"").replace(".","").length-1};n.prototype.constructor=n,n.prototype._init=function(){this.options.onInit&&this.options.onInit(),this._update()},n.prototype._updatePercentFromValue=function(){this.percent=(this.value-this.min)/(this.max-this.min)},n.prototype._startEventListener=function(t,e){var i=this,n=t.target,s=!1;a.forEachAncestorsAndSelf(n,function(t){return s=t.id===i.identifier&&!t.classList.contains(h.DISABLED_CLASS)}),s&&this._handleDown(t,e)},n.prototype._changeEventListener=function(t,e){if(!e||e.origin!==this.identifier){var i=t.target.value;this._setPosition(this._getPositionFromValue(i))}},n.prototype._update=function(){this.handleWidth=a.getDimension(this.handle,"offsetWidth"),this.rangeWidth=a.getDimension(this.range,"offsetWidth"),this.maxHandleX=this.rangeWidth-this.handleWidth,this.grabX=this.handleWidth/2,this.position=this._getPositionFromValue(this.value),this.range.classList[this.element.disabled?"add":"remove"](h.DISABLED_CLASS),this._setPosition(this.position),this._updatePercentFromValue(),d(this.element,"change")},n.prototype._handleResize=function(){this._update()},n.prototype._listen=function(t){h.MOVE_EVENTS.forEach(function(e){document[(t?"add":"remove")+"EventListener"](e,this._handleMove)},this),h.END_EVENTS.forEach(function(e){document[(t?"add":"remove")+"EventListener"](e,this._handleEnd)},this),h.END_EVENTS.forEach(function(e){this.range[(t?"add":"remove")+"EventListener"](e,this._handleEnd)},this)},n.prototype._handleDown=function(t){if(t.preventDefault(),this.isInteracting=!0,this._listen(!0),!t.target.classList.contains(h.HANDLE_CLASS)){var e=r(t,this.range).x,i=this.range.getBoundingClientRect().left,n=this.handle.getBoundingClientRect().left-i;this._setPosition(e-this.grabX),e>=n&&e<n+this.handleWidth&&(this.grabX=e-n),this._updatePercentFromValue()}},n.prototype._handleMove=function(t){this.isInteracting=!0,t.preventDefault();var e=r(t,this.range).x;this._setPosition(e-this.grabX)},n.prototype._handleEnd=function(t){t.preventDefault(),this._listen(!1),d(this.element,"change",{origin:this.identifier}),(this.isInteracting||this.needTriggerEvents)&&this.options.onSlideEnd&&this.options.onSlideEnd(this.value,this.percent,this.position),this.onSlideEventsCount=0,this.isInteracting=!1},n.prototype._setPosition=function(t){var e=this._getValueFromPosition(s(t,0,this.maxHandleX)),i=this._getPositionFromValue(e);this.fill.style.width=i+this.grabX+"px",this.handle.style.webkitTransform=this.handle.style.transform="translate("+i+"px, 0px)",this._setValue(e),this.position=i,this.value=e,this._updatePercentFromValue(),(this.isInteracting||this.needTriggerEvents)&&(this.options.onSlideStart&&0===this.onSlideEventsCount&&this.options.onSlideStart(this.value,this.percent,this.position),this.options.onSlide&&this.options.onSlide(this.value,this.percent,this.position)),this.onSlideEventsCount++},n.prototype._getPositionFromValue=function(t){var e,i;return e=(t-this.min)/(this.max-this.min),i=e*this.maxHandleX},n.prototype._getValueFromPosition=function(t){var e,i;return e=t/(this.maxHandleX||1),i=this.step*Math.round(e*(this.max-this.min)/this.step)+this.min,Number(i.toFixed(this.toFixed))},n.prototype._setValue=function(t){(t!==this.value||t!==this.element.value)&&(this.value=this.element.value=t,d(this.element,"input",{origin:this.identifier}))},n.prototype.update=function(t,e){return t=t||{},this.needTriggerEvents=!!e,a.isFiniteNumber(t.min)&&(this.element.setAttribute("min",""+t.min),this.min=t.min),a.isFiniteNumber(t.max)&&(this.element.setAttribute("max",""+t.max),this.max=t.max),a.isFiniteNumber(t.step)&&(this.element.setAttribute("step",""+t.step),this.step=t.step,this.toFixed=p(t.step)),a.isFiniteNumber(t.value)&&this._setValue(t.value),this._update(),this.onSlideEventsCount=0,this.needTriggerEvents=!1,this},n.prototype.destroy=function(){window.removeEventListener("resize",this._handleResize,!1),h.START_EVENTS.forEach(function(t){this.range.removeEventListener(t,this._startEventListener)},this),this.element.removeEventListener("change",this._changeEventListener),this.element.style.cssText="",delete this.element[u],this.range.parentNode.removeChild(this.range)},n.create=function(t,e){function i(t){t[u]=t[u]||new n(t,e)}t.length?Array.prototype.slice.call(t).forEach(function(t){i(t)}):i(t)},e.exports=n},{"./const":8,"./utils":10,clamp:1,debounce:3,"ev-pos":5}],10:[function(t,e,i){"use strict";function n(t){return!(0!==t.offsetWidth&&0!==t.offsetHeight&&t.open!==!1)}function s(t){return d(parseFloat(t))||d(t)}function o(){if(!arguments.length)return null;for(var t=0,e=arguments.length;e>t;t++)if(s(arguments[t]))return arguments[t]}function r(t){for(var e=[],i=t.parentNode;i&&n(i);)e.push(i),i=i.parentNode;return e}function a(t,e){function i(t){"undefined"!=typeof t.open&&(t.open=!t.open)}var n,s,o=r(t),a=o.length,h=[],u=t[e];if(a){for(s=0;a>s;s++)n=o[s].style,h[s]=n.display,n.display="block",n.height="0",n.overflow="hidden",n.visibility="hidden",i(o[s]);for(u=t[e],s=0;a>s;s++)n=o[s].style,i(o[s]),n.display=h[s],n.height="",n.overflow="",n.visibility=""}return u}function h(t,e){for(e(t);t.parentNode&&!e(t);)t=t.parentNode;return t}function u(t,e){t.parentNode.insertBefore(e,t.nextSibling)}var l=t("custom-event"),d=t("is-finite");e.exports={emit:function(t,e,i){t.dispatchEvent(new l(e,i))},isFiniteNumber:d,getFirstNumberLike:o,getDimension:a,insertAfter:u,forEachAncestorsAndSelf:h}},{"custom-event":2,"is-finite":6}]},{},[9])(9)});
